---
title: "Mini-Project 2"
author: "Your Name Here"
date: "October 31, 2017"
output: html_document
---



=======
>>>>>>> 4759b1f54f9b57a815caa8140d7cdf1da8ce1033
## Loading the data

```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")

library(ggplot2)
library(dplyr)
```
pull down, make changes, save file, git, stage file (click the check), commit, pull, push 
```{r}
#campaign finance over election result by party and state 
#joining contributions and candidates together
table1 <- contributions %>%
inner_join(candidates, "cand_id") %>%
#through ID
  group_by(cand_id, cand_name, cand_party_affiliation) %>%
  mutate(totaltrans = sum(transaction_amt))
```

```{r}
///
```


=======
library(tidyverse)
```

Compare:

Candidates status (incumbent or not) and contributions, winning rate, etc.

Look at states and their donations, where do most people who donate live?

Contribution amount and result of election

Looking state by state at individual elections

Compare parties: dem, rep, ind

```{r}
test2<-contributions%>%
  inner_join(house_elections, by=c("cand_id"="fec_id"))

test3<-test2%>%
  inner_join(candidates, by="cand_id")
```

```{r}
total<-test3%>%
  group_by(cand_id, cand_name, cand_party_affiliation)%>%
  mutate(posneg=ifelse(transaction_amt>0, "positive","negative"))
```

```{r}
total2<-total%>%
  group_by(cand_id, cand_name)%>%
  summarise(against=sum(ifelse(posneg=="negative", n, 0)),
            support=sum(ifelse(posneg=="positive", n, 0)))
            
```

Not a super interesting plot, but we could aggregate some more probably. Incumbents definitely get more money spent against them than non-incumbents. Also Republicans get more money spent against them than Dems.

```{r}
test<-house_elections%>%
  inner_join(contributions, by=c("fec_id"="cand_id"))

ggplot(test, aes(x=incumbent, y=transaction_amt))+
  geom_boxplot()

repdem<-test%>%
  filter(party=="R" | party=="D")

ggplot(repdem, aes(x=party, y=transaction_amt))+
  geom_boxplot()
```

```{r}

#Overall: The effect of campaign finance on general election outcome
#Look at effect of party, state 

```



>>>>>>> 4759b1f54f9b57a815caa8140d7cdf1da8ce1033

